<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/layout}">
<head>
    <link rel="stylesheet" th:href="@{/css/hospital/referralReport.css}">
    <style>
        #search-form, #reportNoteType, #printDateType, #patientID, #patientName {
            cursor: url("/img/manual/cursor/question-mark.png"), auto !important;
        }

        .dataTbBtn {
            cursor: url("/img/manual/cursor/question-mark.png"), auto !important;
        }

        .form-control {
            cursor: url("/img/manual/cursor/question-mark.png"), auto !important;
        }

        button {
            cursor: url("/img/manual/cursor/question-mark.png"), auto !important;
        }
    </style>
</head>
<div layout:fragment="content_area">
    <div id="page_content" class="contentWrap" style="height: 1173px !important">
        <main>
            <div class="btn-group btn-group-lg pb-5">
                <a href="/manual/reception" class="manual-to-page-link-btn-group" aria-current="page">예정의뢰</a>
                <a href="/manual/referrals" class="manual-to-page-link-btn-group">완료의뢰</a>
                <a href="/manual/statistics" class="manual-to-page-link-btn-group">조회하기</a>
                <a href="/manual/referralReport" class="manual-to-page-link-btn-group active">소견서 출력</a>
                <a href="/manual/serviceManage" class="manual-to-page-link-btn-group">공지사항</a>
                <a href="/manual/myPage" class="manual-to-page-link-btn-group">마이페이지</a>
            </div>
            <div class="intro">판독완료된 의뢰를 선택하여 소견서를 출력할 수 있습니다.
            </div>
            <div class="intro text-primary pb-3">마우스를 올렸을 때 <img src="/img/manual/cursor/question-mark.png"> 표시가 나타나면 클릭하여 이용설명을 확인 할 수 있습니다. <a class="manual-to-page-link-btn"
                                                                                                                                                 href="https://report.xray21.com/auth/login"
                                                                                                                                                 style="text-decoration: none;">예정의뢰
                바로가기</a>
            </div>
        </main>
        <main>
            <nav>
                <span>소견서 출력</span>
            </nav>
            <input id="mesg-server-url" type="hidden" name="mesg-server-url" value="https://stg.xray21.com/web"
                   readonly="">

            <form id="search-form">
                <div class="form d-flex">
                    <label for="searchCondition" class="col-1 labelBlue p-0">검색조건</label>
                    <div class="d-flex flex-wrap col-11 p-0" id="searchCondition">

                        <!--            <div sec:authorize="hasAnyRole('ROLE_SM')">-->
                        <input class="pointer mr-2 col-2" id="hospitalName" readonly="" data-sendhospitalcode="0259"
                               value="홍백병원(0259)" type="text">
                        <!--            </div>-->

                        <select class="col-2" id="reportNoteType" name="reportNoteType">
                            <option value="T">전체 (소견서양식)</option>
                            <option value="A">일반</option>
                        </select>

                        <input type="hidden" id="selectedReportNoteType">
                        <div class="rangeDate d-flex flex-wrap p-0 justify-content-start col-4 mr-4">
                            <select id="printDateType" name="printDateType" class="dateTxt">

                                <option value="A">촬영일자</option>

                                <option value="B">의뢰일자</option>

                                <option value="C">판독일자</option>

                            </select>
                            <input type="text" class="dateDate">
                            <button type="button" class="btnCal"></button>

                            <input type="hidden" class="form-control" id="startDate" name="startDate" value="">
                            <input type="hidden" class="form-control" id="endDate" name="endDate" value="">
                        </div>

                        <input type="text" id="patientID" name="patientID"
                               class="mr-2 col-1 justify-content-center ml-3" placeholder="차트번호" title="차트번호">
                        <input type="text" class="col-2 justify-content-end" id="patientName" name="patientName"
                               title="환자명" placeholder="환자명"
                        >
                    </div>

                    <div class="d-flex flex-nowrap justify-content-center mx-auto col-12">

                        <button type="button" id="btn-reset-dr" class="reset">조건 초기화</button>
                        <button type="button" id="btn-search">검색하기</button>
                    </div>
                </div>
            </form>

            <div class="dataTbForm d-block">
                <div class="dataTbWrap d-flex">
                    <div class="d-flex justify-content-start mr-auto">
                        <button type="button" class="dataTbBtn" id="btn-report-print"
                        >출력하기
                        </button>
                    </div>

                    <div calss="d-inline-flex flex-wrap justify-content-end ml-auto">

                        <div class="clearfix">
                            <div class="spinner-border float-right" role="status" id="spinner-referral-reportConfig"
                                 style="display: none">
                                <span class="sr-only">Loading...</span>
                            </div>
                        </div>
                        <script src="/web/js/common/loadingbar.js"></script>


                        <input type="hidden" id="size" value="10">
                        <div aria-labelledby="RowCount" id="row-count-content">
                            <script id="template-row-count" type="text/x-handlebars-template">
                                <label>
                                    <select class="form-control" id="rowCount" data-page="{{page}}">
                                        {{#findSelectedValue size}}
                                            <option value="10">10</option>
                                            <option value="20">20</option>
                                            <option value="30">30</option>
                                            <option value="50">50</option>
                                            <option value="100">100</option>
                                        {{/findSelectedValue}}
                                    </select>
                                </label>
                            </script>
                        </div>

                    </div>

                    <div class="table-responsive mb-2" id="referral-reportConfig-table-viewport">
                        <div id="referral-reportConfig-table_wrapper" class="dataTables_wrapper no-footer">
                            <table class="table table-sm table-head table-hover text-center pointer dataTable no-footer"
                                   id="referral-reportConfig-table">
                                <thead class="thead-light">
                                <tr>
                                    <th scope="col" style="width: 25px;" class="sorting_disabled" rowspan="1"
                                        colspan="1" data-column-index="0"><label for="dt-all-check" value=""></label>
                                        <input type="checkbox" class="dt-all-check" id="dt-all-check" autocomplete="off"
                                               name="referral-reportConfig-table-tbody">
                                        <label for="dt-all-check"></label>
                                    </th>
                                    <th scope="col" class="sorting_disabled" rowspan="1" colspan="1"
                                        data-column-index="1" style="width: 85.1719px;">응급구분
                                    </th>
                                    <th scope="col" class="sorting_disabled" rowspan="1" colspan="1"
                                        data-column-index="2" style="width: 85.1719px;">차트번호
                                    </th>
                                    <th scope="col" class="sorting_disabled" rowspan="1" colspan="1"
                                        data-column-index="3" style="width: 66.5px;">환자명
                                    </th>
                                    <th scope="col" class="sorting_disabled" rowspan="1" colspan="1"
                                        data-column-index="4" style="width: 85.1719px;">생년월일
                                    </th>
                                    <th scope="col" class="sorting_disabled" rowspan="1" colspan="1"
                                        data-column-index="5" style="width: 47.8281px;">나이
                                    </th>
                                    <th scope="col" class="sorting_disabled" rowspan="1" colspan="1"
                                        data-column-index="6" style="width: 47.8281px;">성별
                                    </th>
                                    <th scope="col" class="sorting_disabled" rowspan="1" colspan="1"
                                        data-column-index="7" style="width: 122.531px;">원내촬영유형
                                    </th>
                                    <th scope="col" class="sorting_disabled" rowspan="1" colspan="1"
                                        data-column-index="8" style="width: 85.1719px;">촬영일시
                                    </th>
                                    <th scope="col" class="sorting_disabled" rowspan="1" colspan="1"
                                        data-column-index="9" style="width: 85.1719px;">의뢰일시
                                    </th>
                                    <th scope="col" class="sorting_disabled" rowspan="1" colspan="1"
                                        data-column-index="10" style="width: 85.1719px;">판독일시
                                    </th>
                                    <th scope="col" class="sorting_disabled" rowspan="1" colspan="1"
                                        data-column-index="11" style="width: 141.281px;">소견서출력여부
                                    </th>
                                </tr>
                                </thead>
                                <tbody id="referral-reportConfig-table-tbody">
                                <tr class="odd">
                                    <td valign="top" colspan="12" class="dataTables_empty">조회된 데이터가 없습니다.</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <input type="hidden" id="page" value="1">
                    <div aria-label="Pagination" id="pagination-content"
                         class="d-inline-flex justify-content-center mx-auto" style="margin-bottom: 20px">
                        <script id="template-pagination" type="text/x-handlebars-template">
                            <nav aria-label="Pagination">
                                <ul class="pagination">
                                    <li class="page-item {{#if first}}disabled{{/if}}">
                                        <button class="page-link page-href" tabindex="-1" aria-disabled="true"
                                                data-size="{{size}}"
                                                data-page="{{operations value1=number value2=1 operator='-'}}">Previous
                                        </button>
                                    </li>
                                    {{#each (indexArray)}}
                                        <li class="page-item {{#if (isEqualsNumber index number)}}active{{/if}}">
                                            <button class="page-link page-href" data-size="{{size}}"
                                                    data-page="{{index}}">{{index}}</button>
                                        </li>
                                    {{/each}}
                                    <li class="page-item {{#if last}}disabled{{/if}}">
                                        <button class="page-link page-href" data-size="{{size}}"
                                                data-page="{{operations value1=number value2=1 operator='+'}}">Next
                                        </button>
                                    </li>
                                </ul>
                            </nav>
                        </script>
                    </div>
                </div>
            </div>
        </main>

        <!-- MANUAL: 소견서 출력 -->
        <div class="modal fade" tabindex="-1" role="dialog" id="reportPrintManualModal" data-backdrop="static"
             aria-labelledby="reportPrintManualModal" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title"><span class="descFuncName">소견서 출력</span></h3>
                        <button class="modalClose"></button>
                    </div>
                    <div class="modal-body">
                        <div id="printManualCaptions" class="carousel" data-bs-ride="false">
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <div class="d-flex justify-content-center mb-5">
                                        <div class="carousel-desc-step-current mx-2"
                                             data-target="#printManualCaptions" data-slide-to="0">step 1
                                        </div>
                                        <div class="carousel-desc-step mx-2" data-target="#printManualCaptions"
                                             data-slide-to="1"> step 2
                                        </div>
                                        <div class="carousel-desc-step mx-2" data-target="#printManualCaptions"
                                             data-slide-to="2"> step 3
                                        </div>
                                    </div>
                                    <div class="row manual-area">
                                        <div class="d-block mx-auto col-7 text-center pt-5">
                                            <img src="/img/manual/referralReport/소격서출력-0.png"
                                                 alt="..." class="pt-5">
                                        </div>
                                        <div class="vr"></div>
                                        <div class="mx-auto mt-3 col-3">
                                            <div class="manual-desc-order mr-3">1</div>
                                            <p class="desc py-2">
                                                <span class="text-emphasis">소견서 양식</span> 선택
                                            </p>
                                            <div class="manual-desc-order mr-3">2</div>
                                            <p class="desc py-2">
                                                <span class="text-emphasis">일정 구분 및 기간</span> <br>선택
                                            </p>
                                            <div class="manual-desc-order mr-3">3</div>
                                            <p class="desc py-2">
                                                필요 시 <span class="text-emphasis">특정환자 정보 </span>입력
                                                <br> 환자 정보 미입력 시 전체 조회
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="carousel-item">
                                    <div class="d-flex justify-content-center mb-5">
                                        <div class="carousel-desc-step mx-2" data-target="#printManualCaptions"
                                             data-slide-to="0">step 1
                                        </div>
                                        <div class="carousel-desc-step-current mx-2"
                                             data-target="#printManualCaptions" data-slide-to="1">step 2
                                        </div>
                                        <div class="carousel-desc-step mx-2" data-target="#printManualCaptions"
                                             data-slide-to="2"> step 3
                                        </div>
                                    </div>
                                    <div class="row manual-area">
                                        <div class="d-block mx-auto col-7 text-center">
                                            <img src="/img/manual/referralReport/소견서출력-1.png"
                                                 class="mx-auto">
                                        </div>
                                        <div class="vr"></div>
                                        <div class="mx-auto mt-3 col-3 manual-desc-box">
                                            <!--                                            <div class="row p-2">-->
                                            <div class="manual-desc-order mr-3">1</div>
                                            <p class="desc py-2">
                                                <span class="text-emphasis">출력할 의뢰 </span> 선택
                                            </p>
                                            <!--                                            </div>-->
                                            <!--                                            <div class="row p-2">-->
                                            <div class="manual-desc-order mr-3">2</div>
                                            <p class="desc py-2">
                                                <span class="text-emphasis">출력하기</span> 버튼 클릭
                                            </p>
                                            <!--                                            </div>-->
                                        </div>
                                    </div>
                                </div>
                                <div class="carousel-item">
                                    <div class="d-flex justify-content-center mb-5">
                                        <div class="carousel-desc-step mx-2" data-target="#printManualCaptions"
                                             data-slide-to="0">step 1
                                        </div>
                                        <div class="carousel-desc-step mx-2"
                                             data-target="#printManualCaptions" data-slide-to="1">step 2
                                        </div>
                                        <div class="carousel-desc-step-current mx-2" data-target="#printManualCaptions"
                                             data-slide-to="2"> step 3
                                        </div>
                                    </div>
                                    <div class="row manual-area">
                                        <div class="d-block mx-auto col-7 text-center">
                                            <img src="/img/manual/referralReport/소견서출력-2.png"
                                                 class=" mx-auto">
                                        </div>
                                        <div class="vr"></div>
                                        <div class="mx-auto mt-3 col-3 manual-desc-box">
                                            <div class="manual-desc-order mr-3">1</div>
                                            <p class="desc py-2">
                                                선택한 <span class="text-emphasis">소견서 양식</span>
                                                <br>으로 소견 내용 확인
                                            </p>
                                            <div class="manual-desc-order mr-3">2</div>
                                            <p class="desc py-2">
                                                <span class="text-emphasis">출력 옵션</span> 선택
                                            </p>
                                            <div class="manual-desc-order mr-3">3</div>
                                            <p class="desc py-2">
                                                <span class="text-emphasis">pdf저장 </span>가능
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<th:blcok layout:fragment="script_area">
    <script src="/js/manual/referralReport.js" th:inline="javascript"></script>
</th:blcok>
</html>